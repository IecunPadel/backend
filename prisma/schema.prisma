generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Position {
  DRIVE
  BACKHAND
}

enum BestHand {
  RIGHT
  LEFT
}

enum Status {
  OPEN
  CLOSED_TBP
  CANCELLED
  FINISHED
}

model User {
  id       Int    @id @default(autoincrement())
  email    String @unique
  password String
  username String @unique

  createdAt   DateTime @default(now())
  displayName String
  // birthday    DateTime
  // profilePic ?? nose quin tipus es, suposo que es un link a un S3 bucket d'aquests per a guardar imatges
  Player      Player[]

  followedBy User[] @relation("UserFollows")
  following  User[] @relation("UserFollows")
}

model Player {
  User   User @relation(fields: [UserId], references: [id])
  UserId Int  @id

  level         Int      @default(1000)
  reliability   Float    @default(1)
  pref_position Position
  pref_besthand BestHand
  // pref_schedule ?? nose tampoc quin tipus es, suposo que haura de ser un custom type, o un string
  pref_zone     String
  karma         Float    @default(1)
  gamesWon      Int      @default(0)
  gamesPlayed   Int      @default(0)
}
